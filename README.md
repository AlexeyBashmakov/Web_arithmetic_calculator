# Web_arithmetic_calculator
## Распределенный вычислитель арифметических выражений
Веб-сервис по расчёту арифметических выражений. Каждая арифметическая операция занимает "гигантские" вычислительные мощности, что моделируется с помощью времени выполнения операций, которые задаются переменными среды в милисекундах.
Для расчёта каждого выражения оное преобразуется в обратную польскую нотацию, которая позволяет производить расчёты не связанных действий параллельно.<br>
Вычислитель умеет считать арифметические выражения содержащие четыре арифметические операции (+, -, *, /) и скобки.<br>
Создан на Go во время обучения в Yandex лицее.<br>
Вычислитель состоит из серверной и клиентской частей.

## Установка проекта
Для установки проекта на локальный компьютер возможны два варианта:
1) склонировать репозиторий командой<br>
git clone https://github.com/AlexeyBashmakov/Web_arithmetic_calculator.git<br>
появится папка `Web_arithmetic_calculator`.
2) скачать проект с репозитория как архив zip и разархивировать, появится папка `Web_arithmetic_calculator`.

Далее работа с проектом в обоих вариантах установки совпадает, но различается в зависимости от операционной системы.<br>
В директории `Web_arithmetic_calculator/calculator/bin/` находятся файлы с расширениями `.bat` и `.sh`. Первые используются для работы с приложением в ОС Windows, вторые - в ОС Linux.
### ОС Windows
Для того чтобы проект можно было запустить на исполнение необходимо в папке `Web_arithmetic_calculator/calculator/bin/`
запустить скрипт `build.bat` при этом go соберёт исполняемый файл `main.exe` и поместит его в этой же папке.<br>
Для запуска серверной части проекта потребуется консоль (или терминал, запустить его можно с помощью комбинаций клавиш Win+R и, 
в появившемся окне "Выполнить", в строке "Открыть" ввести `cmd`).<br> 
В консоли, в директории `Web_arithmetic_calculator/calculator/bin/`, запускаем скрипт `run.bat`. 
(В этом скрипте устанавливаются переменные окружения необходимые для работы программы.) 
При старте серверной части в консоли отобразятся информационные сообщения. После старта сервер ждет запросов. Для завершения 
работы сервера в консоли достаточно нажать комбинацию клавиш `Ctrl+C`.<br>

### ОС Linux
Для того чтобы проект можно было запустить на исполнение необходимо в папке `Web_arithmetic_calculator/calculator/bin/`
запустить скрипт `build.sh` при этом go соберёт исполняемый файл `main` и поместит его в этой же папке.<br>
Для запуска серверной части проекта потребуются консоль (терминал). В консоли, в директории `Web_arithmetic_calculator/calculator/bin/`, запускаем скрипт `run.sh`. 
(В этом скрипте устанавливаются переменные окружения необходимые для работы программы.) 
При старте серверной части в консоли отобразятся информационные сообщения. После старта сервер ждет запросов. Для завершения 
работы сервера в консоли достаточно нажать комбинацию клавиш `Ctrl+C`.

## Зависимости
Версия Go не ниже 1.22.4, т.к. используются средства маршрутизации, появившиеся в стандартной библиотеке с указанной версии.

## Примеры использования
После запуска серверной части можно либо с помощью браузера получить доступ к сервису, либо из консоли проверить работу проекта.
### Браузер
В новой вкладке (или новом окне) браузера, в строке адреса введите<br>
`http://localhost:8080`<br>
или<br>
`http://127.0.0.1:8080`<br>
Появится форма для ввода имени и пароля пользователя. Если данный пользователь в системе не зарегистрирован, то при нажатии на кнопку `Войти` появится сообщение, что пользователь не зарегистрирован.
Тогда надо перейти по ссылке в правом нижнем углу формы к регистрации пользователя. После ввода регистрационных данных пользователь будет перенаправлен в свой личный кабинет сервиса. (Если ввести 
имя пользователя кириллицей, то в личном кабинете, в шапке имя пользователя отобразится в виде %D%B...)<br>
Страница личного кабинета пользователя разделена на 4 части:
1. шапка - здесь указано имя пользователя
2. левый столбец - здесь можно задать сервису выражение для вычисления, например: `(5/2+7.5)*10`
3. средний столбец - здесь можно получить информацию о выражении:
   - идентификатор (который был присвоен при задании сервису выражения)
   - само выражение
   - статус: в очереди, вычисляется или завершено
   - результат, у всех не завершённых выражений результат = 0, даже если это правильный ответ
4. правый столбец - таблица всех выражений пользователя.

При взаимодействии пользователя с сервисом первый отправляет в качестве идентификационных данных свой JWT-токен. Этот токен первый раз генерируется при регистрации пользователя, 
потом каждый раз после истечения времени жизни токена и входа пользователя в сервис по имени и паролю. Поэтому когда заканчивается время жизни токена, то пользователь из своего личного кабинета 
перенаправляется на страницу входа в сервис.<br>
Работоспособность сервиса проверялась в браузерах Mozilla Firefox, Opera и Яндекс Браузере под ОС Windows 10 и в браузере Mozilla Firefox под ОС Linux Debian 11.

### Консоль
Описание проверки работы проекта через консоль не готово.
